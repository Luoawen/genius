<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title></title>
    <script th:src="@{/js/location.js}" type="text/javascript"></script>
    <script th:src="@{/js/jquery-2.0.0.min.js}" type="text/javascript"></script>
    <script th:inline="javascript">

        $(function () {

            var phone = [[${phone}]];
            $.ajax({
                type: 'get',
                url: "/users/user/" + phone,
                dataType: 'json',
                success: function (data) {
                    alert(data.user_name);
                    $('#userName').val(data.user_name);
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    alert("网络超时，请重试");
                }
            });

        });
    </script>
</head>
<body>
<p th:text="'Hello, ' + ${userId} + '!'" />
<input id="userName" type="text" ></input>
</body>
</html>